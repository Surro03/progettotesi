<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <script th:src="@{/javascript/script.js}" defer></script>
</head>
<body>
<h2>Effettua il Login</h2>

<div th:if="${param.error}">Username o password errati.<br></div>
<div th:if="${param.logout}">Logout eseguito con successo.<br></div>
<div th:if="${param.register}">Registrazione avvenuta con successo.<br></div>
<div th:if="${param.invalid}">Sessione non valida, eseguire nuovamente l'accesso.<br></div>
<div th:if="${param.expired}">Sessione scaduta, l'accesso è stato eseguito da un'altra parte.<br></div>

<form action="/authenticate" method="post" autocomplete="on">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <div class="form-group">
        <label for="email">Email:</label>
        <input id="email" type="email" name="email" placeholder="Inserisci la tua email" required autofocus>
    </div>

    <div class="form-group">
        <label for="password">Password:</label>
        <div class="password-wrapper">
            <input id="password" type="password" name="password"
                   placeholder="Inserisci la tua password" required autocomplete="off">
            <button type="button" id="togglePassword">👁️</button>
        </div>
    </div>

    <button type="submit">Accedi</button>
</form>

<div style="margin-top:1rem;">
    Non sei registrato?
    <button type="button" class="btn-secondary"
            th:onclick="|window.location.href='@{/register}'|">
        Registrati
    </button>
</div>
</body>
</html>
